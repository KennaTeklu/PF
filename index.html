<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>Workout Continuity â€“ Physiological Intelligence</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- NAVIGATION BAR (Categorized) -->
    <nav class="navbar">
        <a href="#" class="nav-brand" onclick="showSection('dashboard'); return false;">
            <i class="fas fa-dumbbell"></i>
            <span>ðŸ’ª Continuity OS</span>
        </a>
        <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
            <i class="fas fa-bars"></i>
        </button>
        <div class="nav-menu" id="navMenu">
            <!-- Core -->
            <div class="nav-category">CORE</div>
            <a href="#" class="nav-item active" onclick="showSection('dashboard'); return false;"><i class="fas fa-home"></i> Dashboard</a>
            <a href="#" class="nav-item" onclick="showSection('workout'); return false;"><i class="fas fa-dumbbell"></i> Today's Workout</a>
            <a href="#" class="nav-item" onclick="showSection('history'); return false;"><i class="fas fa-history"></i> History</a>
            <a href="#" class="nav-item" onclick="showSection('progress'); return false;"><i class="fas fa-chart-line"></i> Progress</a>
            <a href="#" class="nav-item" onclick="showSection('recovery'); return false;"><i class="fas fa-heartbeat"></i> Recovery</a>

            <!-- Data -->
            <div class="nav-category">DATA</div>
            <a href="#" class="nav-item" onclick="showSection('exercise-library'); return false;"><i class="fas fa-book"></i> Exercise Library</a>
            <a href="#" class="nav-item" onclick="showSection('pr'); return false;"><i class="fas fa-trophy"></i> Personal Records</a>
            <a href="#" class="nav-item" onclick="showSection('goals'); return false;"><i class="fas fa-bullseye"></i> Goals</a>
            <a href="#" class="nav-item" onclick="showSection('programs'); return false;"><i class="fas fa-calendar-alt"></i> Programs</a>
            <a href="#" class="nav-item" onclick="showSection('achievements'); return false;"><i class="fas fa-medal"></i> Achievements</a>

            <!-- Wellness -->
            <div class="nav-category">WELLNESS</div>
            <a href="#" class="nav-item" onclick="showSection('recovery-insights'); return false;"><i class="fas fa-chart-line"></i> Recovery Insights</a>
            <a href="#" class="nav-item" onclick="showSection('warmup'); return false;"><i class="fas fa-fire"></i> Warmâ€‘up / Coolâ€‘down</a>
            <a href="#" class="nav-item" onclick="showSection('injury'); return false;"><i class="fas fa-bone"></i> Injury Log</a>
            <a href="#" class="nav-item" onclick="showSection('sleep'); return false;"><i class="fas fa-moon"></i> Sleep</a>
            <a href="#" class="nav-item" onclick="showSection('load'); return false;"><i class="fas fa-wave-square"></i> Training Load</a>
            <a href="#" class="nav-item" onclick="showSection('summaries'); return false;"><i class="fas fa-file-pdf"></i> Summaries</a>

            <!-- Community -->
            <div class="nav-category">COMMUNITY</div>
            <a href="#" class="nav-item" onclick="showSection('social'); return false;"><i class="fas fa-share-alt"></i> Share</a>
            <a href="#" class="nav-item" onclick="showSection('comparison'); return false;"><i class="fas fa-balance-scale"></i> Compare</a>
            <a href="#" class="nav-item" onclick="showSection('calendar'); return false;"><i class="fas fa-calendar"></i> Calendar</a>
            <a href="#" class="nav-item" onclick="showSection('event'); return false;"><i class="fas fa-clock"></i> Projections</a>

            <!-- Reference -->
            <div class="nav-category">REFERENCE</div>
            <a href="#" class="nav-item" onclick="showSection('compendium'); return false;"><i class="fas fa-table"></i> Compendium</a>
            <a href="#" class="nav-item" onclick="showSection('status'); return false;"><i class="fas fa-clipboard-list"></i> Feature Status</a>
            <a href="#" class="nav-item" onclick="showSection('health'); return false;"><i class="fas fa-notes-medical"></i> Health Logs</a>

            <!-- System -->
            <div class="nav-category">SYSTEM</div>
            <a href="#" class="nav-item" onclick="showSection('settings'); return false;"><i class="fas fa-cog"></i> Settings</a>

            <div class="nav-user">
                <div class="user-avatar" id="navUserAvatar" onclick="showSection('settings')">U</div>
                <div>
                    <div style="font-weight: 700; color: var(--dark);" id="navUserName">User</div>
                    <div style="font-size: 0.85rem; color: var(--gray-500);" id="navUserStats">Beginner â€¢ Day 0 Streak</div>
                </div>
            </div>
        </div>
    </nav>

    <!-- IMPORT SCREEN -->
    <div class="import-screen" id="importScreen">
        <h1><i class="fas fa-dumbbell"></i> Workout Continuity System</h1>
        <p class="subtitle">Track your progress, maintain consistency, and optimize your workouts with intelligent recovery tracking</p>

        <div class="import-options">
            <div class="import-option" onclick="importWorkoutData()">
                <i class="fas fa-file-import"></i>
                <h3>Import JSON Data</h3>
                <p>Upload your existing workout data in JSON format to continue where you left off</p>
                <div class="feature-list">
                    <li><i class="fas fa-check"></i> Import workout history</li>
                    <li><i class="fas fa-check"></i> Import exercise progress</li>
                    <li><i class="fas fa-check"></i> Import user settings</li>
                </div>
            </div>

            <div class="import-option" onclick="startNewProgram()">
                <i class="fas fa-plus-circle"></i>
                <h3>Start Fresh Program</h3>
                <p>Begin a new workout program tailored to your fitness level and goals</p>
                <div class="feature-list">
                    <li><i class="fas fa-check"></i> Personalized workout plan</li>
                    <li><i class="fas fa-check"></i> Progressive overload system</li>
                    <li><i class="fas fa-check"></i> Recovery tracking</li>
                </div>
            </div>

            <div class="import-option" onclick="loadSampleData()">
                <i class="fas fa-vial"></i>
                <h3>Sample Data</h3>
                <p>Try the system with pre-loaded sample data to explore all features</p>
                <div class="feature-list">
                    <li><i class="fas fa-check"></i> 5 sample workouts</li>
                    <li><i class="fas fa-check"></i> 10+ exercises</li>
                    <li><i class="fas fa-check"></i> Progress tracking</li>
                </div>
            </div>
        </div>

        <div style="margin-top: 40px; padding-top: 30px; border-top: 2px solid var(--gray-200);">
            <h3 style="margin-bottom: 15px;">Quick Start Options</h3>
            <div class="btn-group" style="justify-content: center;">
                <button class="btn" onclick="importWorkoutData()"><i class="fas fa-file-import"></i> Import JSON</button>
                <button class="btn btn-success" onclick="startNewProgram()"><i class="fas fa-plus-circle"></i> Start Fresh</button>
                <button class="btn btn-info" onclick="loadSampleData()"><i class="fas fa-vial"></i> Load Sample</button>
            </div>
        </div>
    </div>

    <!-- MAIN APPLICATION CONTAINER (all original sections preserved) -->
    <div class="container main-app" id="mainApp">
        <!-- ========== DASHBOARD SECTION ========== -->
        <div id="dashboard-section" class="section active">
            <div class="user-welcome" id="userWelcome">
                <div class="user-welcome-avatar" id="welcomeAvatar">U</div>
                <div>
                    <h2 id="welcomeName" style="color: var(--dark);">Welcome back, User!</h2>
                    <p style="color: var(--gray-600);">
                        <span id="welcomeStreak">0</span> day streak Â·
                        <span id="welcomeLevel">Beginner</span>
                    </p>
                </div>
            </div>

            <div class="stats-grid">
                <div class="card stat-card">
                    <span class="stat-value" id="statWorkouts">0</span>
                    <span class="stat-label">Total Workouts</span>
                </div>
                <div class="card stat-card">
                    <span class="stat-value" id="statStreak">0</span>
                    <span class="stat-label">Day Streak</span>
                </div>
                <div class="card stat-card">
                    <span class="stat-value" id="statVolume">0</span>
                    <span class="stat-label">Total Volume</span>
                </div>
                <div class="card stat-card">
                    <span class="stat-value" id="statProgress">0%</span>
                    <span class="stat-label">Goal Progress</span>
                </div>
                <div class="card stat-card">
                    <span class="stat-value" id="dash-acwr">1.0</span>
                    <span class="stat-label">Load (ACWR)</span>
                </div>
                <div class="card stat-card">
                    <span class="stat-value" id="longevityScore">0</span>
                    <span class="stat-label">Longevity</span>
                </div>
                <!-- NEW: Injury Risk Card (Tendon Guard) -->
                <div class="card stat-card" id="injury-risk-card">
                    <span class="stat-value" id="risk-val">Analyzing...</span>
                    <span class="stat-label">RECOVERY QUALITY</span>
                </div>
            </div>

            <div class="dashboard" style="display: grid; grid-template-columns: 2fr 1fr; gap: 30px; margin-bottom: 30px;">
                <div>
                    <div class="card">
                        <h2 class="title"><i class="fas fa-chart-line"></i> Recent Volume</h2>
                        <div class="chart-container">
                            <canvas id="dashboardChart"></canvas>
                        </div>
                    </div>
                    <div class="card">
                        <h2 class="title"><i class="fas fa-calendar-check"></i> Next Workout</h2>
                        <div id="dashboardWorkoutInfo"></div>
                        <div class="next-workout-date" id="dashboardNextWorkout">No workout scheduled</div>
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <button class="btn btn-primary" onclick="generateNextWorkout()" style="flex:1;">
                                <i class="fas fa-dumbbell"></i> Generate Workout
                            </button>
                            <!-- NEW: Start Today's Workout button -->
                            <button class="btn btn-success" onclick="if(currentWorkout) showSection('workout'); else { generateNextWorkout(); showSection('workout'); }" style="flex:1;">
                                <i class="fas fa-play"></i> Start Today
                            </button>
                        </div>
                    </div>
                </div>
                <div>
                    <div class="card">
                        <h2 class="title"><i class="fas fa-calendar"></i> Activity (90 days)</h2>
                        <div class="calendar-grid" id="activity-calendar"></div>
                    </div>
                    <div class="card">
                        <h2 class="title"><i class="fas fa-trophy"></i> Personal Records</h2>
                        <div id="dash-prs-list" style="font-size:0.9rem;"></div>
                    </div>
                    <div class="card">
                        <h2 class="title"><i class="fas fa-chart-line"></i> 2030 Projection</h2>
                        <div class="projection-box" id="projection-box">
                            <p style="font-size:0.9rem; margin-bottom:10px;">Based on consistency:</p>
                            <h3 id="strength-forecast" style="color:white;">Calculating...</h3>
                            <p id="forecast-note" style="font-size:0.75rem; margin-top:10px;"></p>
                        </div>
                    </div>
                    <div class="card">
                        <h2 class="title"><i class="fas fa-medal"></i> Achievements</h2>
                        <div class="badge-grid" id="badge-grid"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ========== WORKOUT SECTION ========== -->
        <div id="workout-section" class="section">
            <div class="todays-workout">
                <h2 class="section-title"><i class="fas fa-dumbbell"></i> Today's Workout</h2>
                <div class="workout-info" id="workoutInfo">
                    <div class="workout-meta">
                        <div class="meta-item">
                            <span class="meta-label">Type:</span>
                            <span class="meta-value" id="workoutType">Full Body A</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">Focus:</span>
                            <span class="meta-value" id="workoutFocus">Strength</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">Est. Time:</span>
                            <span class="meta-value" id="workoutTime">60 min</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">Intensity:</span>
                            <span class="meta-value" id="workoutIntensity">Moderate</span>
                        </div>
                    </div>
                </div>
                <div class="exercise-list" id="exerciseList"></div>
                <div class="btn-group" style="margin-top: 30px;">
                    <button class="btn btn-success" onclick="completeWorkout()">
                        <i class="fas fa-check-circle"></i> Complete Workout
                    </button>
                    <button class="btn" onclick="generateNextWorkout()">
                        <i class="fas fa-sync-alt"></i> Generate New
                    </button>
                </div>
            </div>
        </div>

        <!-- ========== HISTORY SECTION ========== -->
        <div id="history-section" class="section">
            <div class="workout-history-section">
                <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; margin-bottom: 20px;">
                    <h2 class="section-title" style="margin-bottom: 0;"><i class="fas fa-history"></i> Workout History</h2>
                    <div>
                        <button class="btn btn-outline" onclick="exportHistoryCSV()">
                            <i class="fas fa-download"></i> Export CSV
                        </button>
                    </div>
                </div>
                <div class="tabs">
                    <button class="tab active" onclick="filterHistory('all')">All</button>
                    <button class="tab" onclick="filterHistory('month')">This Month</button>
                    <button class="tab" onclick="filterHistory('year')">This Year</button>
                </div>
                <table class="history-table" id="workoutHistoryTable">
                    <thead>
                        <tr><th>Date</th><th>Workout</th><th>Exercises</th><th>Volume</th><th>RPE</th><th>Notes</th></tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <!-- ========== PROGRESS SECTION ========== -->
        <div id="progress-section" class="section">
            <div class="progress-section">
                <h2 class="section-title"><i class="fas fa-chart-bar"></i> Progress Tracking</h2>
                <div class="chart-grid">
                    <div class="chart-card">
                        <h3>Volume Over Time</h3>
                        <div class="chart-container">
                            <canvas id="volumeChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3>Strength Progress (Top 5)</h3>
                        <div class="chart-container">
                            <canvas id="strengthChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3>Workout Frequency</h3>
                        <div class="chart-container">
                            <canvas id="frequencyChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3>RPE Distribution</h3>
                        <div class="chart-container">
                            <canvas id="rpeChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ========== RECOVERY SECTION ========== -->
        <div id="recovery-section" class="section">
            <div class="todays-workout">
                <h2 class="section-title"><i class="fas fa-heartbeat"></i> Recovery Status</h2>
                <div class="muscle-recovery">
                    <div class="muscle-category">
                        <h4><i class="fas fa-arrow-up"></i> Major Muscle Groups</h4>
                        <div id="majorMuscleRecovery"></div>
                    </div>
                    <div class="muscle-category">
                        <h4><i class="fas fa-balance-scale"></i> Longevity & Joint Health</h4>
                        <div id="longevityMuscleRecovery"></div>
                    </div>
                    <div class="muscle-category">
                        <h4><i class="fas fa-hand-paper"></i> Hand Muscles</h4>
                        <div id="handMuscleRecovery"></div>
                    </div>
                    <div class="muscle-category">
                        <h4><i class="fas fa-shoe-prints"></i> Foot Muscles</h4>
                        <div id="footMuscleRecovery"></div>
                    </div>
                </div>
                <div id="recoveryRecommendations" class="recovery-status"></div>
            </div>
        </div>

        <!-- ========== EXERCISE LIBRARY SECTION ========== -->
        <div id="exercise-library-section" class="section">
            <div class="todays-workout">
                <h2 class="section-title"><i class="fas fa-dumbbell"></i> Exercise Library</h2>
                <div class="exercise-library-container"></div>
            </div>
        </div>

        <!-- ========== PERSONAL RECORDS SECTION ========== -->
        <div id="pr-section" class="section">
            <div class="todays-workout">
                <h2 class="section-title"><i class="fas fa-trophy"></i> Personal Records</h2>
                <div class="pr-grid"></div>
            </div>
        </div>

        <!-- ========== MEASUREMENTS SECTION ========== -->
        <div id="measurements-section" class="section">
            <div class="todays-workout">
                <h2 class="section-title"><i class="fas fa-weight"></i> Body Measurements</h2>
                <div class="measurements-container"></div>
            </div>
        </div>

        <!-- ========== GOALS SECTION ========== -->
        <div id="goals-section" class="section">
            <div class="todays-workout">
                <h2 class="section-title"><i class="fas fa-bullseye"></i> Goal Setting</h2>
                <div class="grid-3" style="margin-bottom: 20px;">
                    <div class="form-group"><label>Goal Type</label><select id="goal-type"><option>Strength</option><option>Volume</option><option>Consistency</option></select></div>
                    <div class="form-group"><label>Target Value</label><input type="number" id="goal-target"></div>
                    <div class="form-group"><label>Deadline</label><input type="date" id="goal-date"></div>
                </div>
                <button class="btn btn-success" onclick="addGoal()">Set Goal</button>
                <div class="goals-container" style="margin-top: 30px;"></div>
            </div>
        </div>

        <!-- ========== TRAINING PLANS / PROGRAMS ========== -->
        <div id="programs-section" class="section">
            <div class="todays-workout">
                <h2 class="section-title"><i class="fas fa-calendar-alt"></i> Training Plans</h2>
                <div class="programs-container"></div>
            </div>
        </div>

        <!-- ========== ACHIEVEMENTS / BADGES ========== -->
        <div id="achievements-section" class="section">
            <div class="todays-workout">
                <h2 class="section-title"><i class="fas fa-medal"></i> Achievements</h2>
                <div class="badges-container"></div>
            </div>
        </div>

        <!-- ========== RECOVERY INSIGHTS ========== -->
        <div id="recovery-insights-section" class="section">
            <div class="todays-workout">
                <h2 class="section-title"><i class="fas fa-chart-line"></i> Recovery Insights</h2>
                <div class="insights-container"></div>
            </div>
        </div>

        <!-- ========== WARM-UP / COOL-DOWN ========== -->
        <div id="warmup-section" class="section">
            <div class="todays-workout">
                <h2 class="section-title"><i class="fas fa-fire"></i> Warmâ€‘up / Coolâ€‘down</h2>
                <div class="routines-container"></div>
            </div>
        </div>

        <!-- ========== INJURY / PAIN LOGGER ========== -->
        <div id="injury-section" class="section">
            <div class="todays-workout">
                <h2 class="section-title"><i class="fas fa-bone"></i> Injury & Pain Log</h2>
                <div class="injury-container"></div>
            </div>
        </div>

        <!-- ========== SLEEP TRACKER ========== -->
        <div id="sleep-section" class="section">
            <div class="todays-workout">
                <h2 class="section-title"><i class="fas fa-moon"></i> Sleep Tracker</h2>
                <div class="sleep-container"></div>
            </div>
        </div>

        <!-- ========== TRAINING LOAD & FATIGUE ========== -->
        <div id="load-section" class="section">
            <div class="todays-workout">
                <h2 class="section-title"><i class="fas fa-wave-square"></i> Training Load</h2>
                <div class="load-container"></div>
            </div>
        </div>

        <!-- ========== MONTHLY / YEARLY SUMMARIES ========== -->
        <div id="summaries-section" class="section">
            <div class="todays-workout">
                <h2 class="section-title"><i class="fas fa-file-pdf"></i> Monthly & Yearly Summaries</h2>
                <div class="summaries-container"></div>
            </div>
        </div>

        <!-- ========== SOCIAL / SHARE WORKOUTS ========== -->
        <div id="social-section" class="section">
            <div class="todays-workout">
                <h2 class="section-title"><i class="fas fa-share-alt"></i> Share Workout</h2>
                <div class="share-container"></div>
            </div>
        </div>

        <!-- ========== EXERCISE COMPARISON ========== -->
        <div id="comparison-section" class="section">
            <div class="todays-workout">
                <h2 class="section-title"><i class="fas fa-balance-scale"></i> Exercise Comparison</h2>
                <div class="comparison-container"></div>
            </div>
        </div>

        <!-- ========== WORKOUT CALENDAR ========== -->
        <div id="calendar-section" class="section">
            <div class="todays-workout">
                <h2 class="section-title"><i class="fas fa-calendar"></i> Workout Calendar</h2>
                <div class="calendar-container"></div>
            </div>
        </div>

        <!-- ========== EVENT / YEARLY GOALS & PROJECTIONS ========== -->
        <div id="event-section" class="section">
            <div class="todays-workout">
                <h2 class="section-title"><i class="fas fa-clock"></i> Yearly Goals & Projections</h2>
                <div class="event-container"></div>
            </div>
        </div>

        <!-- ========== NEW: EXERCISE COMPENDIUM SECTION ========== -->
        <div id="compendium-section" class="section">
            <div class="todays-workout">
                <h2 class="section-title"><i class="fas fa-table"></i> Ultimate Exercise Compendium</h2>
                <p>Browse the complete exercise database by muscle group, equipment, and progression notes.</p>
                <div class="compendium-container" id="compendium-container">
                    <!-- Will be populated dynamically by JavaScript -->
                </div>
            </div>
        </div>

        <!-- ========== NEW: FEATURE STATUS SECTION ========== -->
        <div id="status-section" class="section">
            <div class="todays-workout">
                <h2 class="section-title"><i class="fas fa-clipboard-list"></i> Feature Implementation Status</h2>
                <p>Overview of all app features, their implementation status, and notes.</p>
                <div class="status-table-container" id="status-table-container">
                    <!-- Will be populated dynamically by JavaScript -->
                </div>
            </div>
        </div>

        <!-- ========== HEALTH LOGS SECTION ========== -->
        <div id="health-section" class="section">
            <div class="grid-3">
                <div class="card">
                    <h2 class="title"><i class="fas fa-moon"></i> Sleep</h2>
                    <input type="number" id="sleep-hours" placeholder="Hours slept last night">
                    <button class="btn btn-outline" style="margin-top:10px; width:100%" onclick="logSleep()">Log Sleep</button>
                </div>
                <div class="card">
                    <h2 class="title"><i class="fas fa-weight"></i> Measurements</h2>
                    <input type="number" id="body-weight" placeholder="Weight (lbs)">
                    <button class="btn btn-outline" style="margin-top:10px; width:100%" onclick="logWeight()">Log Weight</button>
                </div>
                <div class="card">
                    <h2 class="title"><i class="fas fa-briefcase-medical"></i> Injury Log</h2>
                    <select id="injury-pain"><option value="0">No Pain</option><option value="1">Mild Niggle</option><option value="2">Significant Pain</option></select>
                    <textarea id="injury-note" placeholder="Note area/pain type..." style="margin-top:10px;"></textarea>
                    <button class="btn btn-danger" style="margin-top:10px; width:100%" onclick="logInjury()">Log Incident</button>
                </div>
            </div>
        </div>

        <!-- ========== SETTINGS SECTION ========== -->
        <div id="settings-section" class="section">
            <div class="settings-section">
                <h2 class="section-title"><i class="fas fa-cog"></i> Settings</h2>
                <div class="settings-grid">
                    <div class="settings-group">
                        <h3>Profile Information</h3>
                        <div class="form-group"><label>Name</label><input type="text" id="settingsName" placeholder="Your name"></div>
                        <div class="form-group"><label>Birth Date</label><input type="date" id="settingsBirthDate"></div>
                        <div class="form-group"><label>Gender</label><select id="settingsGender"><option value="male">Male</option><option value="female">Female</option><option value="other">Other</option></select></div>
                        <div class="form-group"><label>Weight (lbs)</label><input type="number" id="settingsWeight"></div>
                        <div class="form-group"><label>Height (in)</label><input type="number" id="settingsHeight"></div>
                        <div class="form-group"><label>Experience</label><select id="settingsExperience"><option value="beginner">Beginner</option><option value="intermediate">Intermediate</option><option value="advanced">Advanced</option></select></div>
                        <div class="form-group"><label>Primary Goal</label><select id="settingsGoal"><option value="strength">Strength</option><option value="hypertrophy">Hypertrophy</option><option value="endurance">Endurance</option><option value="longevity">Longevity</option><option value="balanced">Balanced</option></select></div>
                    </div>
                    <div class="settings-group">
                        <h3>Workout Settings</h3>
                        <div class="form-group"><label>Rest Time (seconds)</label><input type="number" id="settingsRestTime" value="90"></div>
                        <div class="form-group"><label>Progression Rate (%)</label><input type="number" id="settingsProgression" value="2"></div>
                        <div class="form-group"><label>Workout Days</label><div style="display: flex; flex-wrap: wrap; gap: 10px;">
                            <label><input type="checkbox" class="workout-day" value="monday"> Mon</label>
                            <label><input type="checkbox" class="workout-day" value="tuesday"> Tue</label>
                            <label><input type="checkbox" class="workout-day" value="wednesday"> Wed</label>
                            <label><input type="checkbox" class="workout-day" value="thursday"> Thu</label>
                            <label><input type="checkbox" class="workout-day" value="friday"> Fri</label>
                            <label><input type="checkbox" class="workout-day" value="saturday"> Sat</label>
                            <label><input type="checkbox" class="workout-day" value="sunday"> Sun</label>
                        </div></div>
                        <div class="form-group"><label>Theme</label><div class="theme-controls">
                            <button class="theme-btn theme-blue" onclick="setTheme('blue')"><span class="theme-preview"></span> Blue</button>
                            <button class="theme-btn theme-green" onclick="setTheme('green')"><span class="theme-preview"></span> Green</button>
                            <button class="theme-btn theme-purple" onclick="setTheme('purple')"><span class="theme-preview"></span> Purple</button>
                            <button class="theme-btn theme-orange" onclick="setTheme('orange')"><span class="theme-preview"></span> Orange</button>
                        </div></div>
                        <div class="setting-item">
                            <span class="setting-label">Dark Mode</span>
                            <label class="switch"><input type="checkbox" id="darkModeToggle" onchange="toggleDarkMode()"><span class="slider round"></span></label>
                        </div>
                    </div>
                </div>
                <div class="btn-group" style="margin-top: 30px;">
                    <button class="btn btn-success" onclick="saveSettings()"><i class="fas fa-save"></i> Save Settings</button>
                    <button class="btn" onclick="exportWorkoutData()"><i class="fas fa-download"></i> Export Data</button>
                    <button class="btn btn-danger" onclick="resetAllData()"><i class="fas fa-trash"></i> Reset All</button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODALS (all original) -->
    <div class="modal" id="importModal">
        <div class="modal-content">
            <h2 style="margin-bottom: 20px;">Import Workout Data</h2>
            <p style="margin-bottom: 20px; color: var(--gray-600);">Upload a JSON file or paste your data below.</p>
            <div class="form-group"><label>Upload File</label><input type="file" id="workoutFile" accept=".json"></div>
            <div class="form-group"><label>Or Paste JSON</label><textarea id="workoutJson" rows="6" placeholder='{"user": {...}, "workouts": [...]}'></textarea></div>
            <div class="btn-group">
                <button class="btn btn-success" onclick="processImport()">Import</button>
                <button class="btn btn-outline" onclick="closeModal('importModal')">Cancel</button>
            </div>
        </div>
    </div>

    <div class="modal" id="importExerciseModal">
        <div class="modal-content">
            <h2 style="margin-bottom: 20px;">Import Exercise Library</h2>
            <p style="margin-bottom: 20px; color: var(--gray-600);">Upload an exercise library JSON file.</p>
            <div class="form-group"><label>Upload File</label><input type="file" id="exerciseFile" accept=".json"></div>
            <div class="form-group"><label>Or Paste JSON</label><textarea id="exerciseJson" rows="6" placeholder='{"exercise_id": {...}}'></textarea></div>
            <div class="btn-group">
                <button class="btn btn-success" onclick="processExerciseImport()">Import</button>
                <button class="btn btn-outline" onclick="closeModal('importExerciseModal')">Cancel</button>
            </div>
        </div>
    </div>

    <div class="modal" id="longevityModal">
        <div class="modal-content" id="longevityReport"></div>
    </div>

    <div class="modal" id="periodModal">
        <div class="modal-content">
            <h2 style="margin-bottom: 20px;">Track Menstrual Cycle</h2>
            <div class="form-group"><label>Last Period Start Date</label><input type="date" id="lastPeriodDate"></div>
            <div class="form-group"><label>Average Cycle Length (days)</label><input type="number" id="cycleLength" value="28"></div>
            <div class="form-group"><label>Symptoms / Notes</label><textarea id="periodSymptoms" rows="3" placeholder="Any symptoms..."></textarea></div>
            <div class="btn-group">
                <button class="btn btn-success" onclick="savePeriodData()">Save</button>
                <button class="btn btn-outline" onclick="closeModal('periodModal')">Cancel</button>
            </div>
        </div>
    </div>

    <div class="modal" id="exerciseSearchModal">
        <div class="modal-content">
            <h2 id="exerciseSearchTitle" style="margin-bottom: 15px;">Searching...</h2>
            <div id="exerciseSearchBody">Loading...</div>
        </div>
    </div>

    <div class="modal" id="injuryLogModal">
        <div class="modal-content">
            <h2>Log Injury / Pain</h2>
            <!-- Form will be filled by JS if needed -->
        </div>
    </div>

    <div class="modal" id="sleepLogModal">
        <div class="modal-content">
            <h2>Log Sleep</h2>
            <!-- Form -->
        </div>
    </div>

    <div class="modal" id="measurementModal">
        <div class="modal-content">
            <h2>Add Measurement</h2>
            <!-- Form -->
        </div>
    </div>

    <div class="modal" id="goalModal">
        <div class="modal-content">
            <h2>Set New Goal</h2>
            <!-- Form -->
        </div>
    </div>

    <!-- NOTIFICATION and LOADING -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notificationText">Operation completed successfully!</span>
    </div>

    <div class="loading" id="loading">
        <div class="spinner"></div>
        <div style="color: var(--primary); font-weight: 600; font-size: 1.1rem;">Processing your request...</div>
    </div>

    <script src="script.js"></script>
</body>
</html>
